# 思考：当前版本数值平衡性分析

**分析时间:** 2025-09-15

本文档旨在深入分析当前游戏版本中的核心数值公式，以评估其对游戏节奏和玩家体验的潜在影响，并为后续的平衡性调整提供数据支持和理论依据。

---

## 1. 核心生产循环

这是游戏最基础的增长引擎，由生成器成本和产量两部分构成。

### 1.1. 生成器成本

- **公式:** `Cost = BaseCost * (CostMultiplier ^ Owned)`
- **数据:**
  - G1 (变量): Base `5`, Multiplier `1.15`
  - G2 (函数): Base `40`, Multiplier `1.20`
  - G3 (类): Base `1e4`, Multiplier `1.25`
  - G4 (模块): Base `1e6`, Multiplier `1.30`
  - G5 (库): Base `1e9`, Multiplier `1.35`
  - G6 (框架): Base `1e13`, Multiplier `1.40`
  - G7 (编译器): Base `1e18`, Multiplier `1.45`
  - G8 (AI核心): Base `1e24`, Multiplier `1.50`
- **分析:**
  - 成本是典型的指数增长，`CostMultiplier` 从 `1.15` 递增到 `1.50`，意味着越高阶的生成器，其连续购买的成本惩罚越大。
  - 这个设计是合理的，它迫使玩家在“大量购买低阶生成器”和“解锁并购买少量高阶生成器”之间做出权衡。
  - **潜在问题:** G6 到 G8 的成本增长极快，可能会导致玩家在这一阶段感到明显的“撞墙感”。

### 1.2. 生成器产量

- **公式:** `Production = BaseProduction * Amount * buy10Bonus * rpBonus * globalMultiplier`
- **分析:**
  - 这是一个复合乘法模型。`BaseProduction` 目前全部为 `1`，意味着所有生成器的基础效率相同。
  - `Amount` (拥有量) 是线性乘子。
  - `buy10Bonus`、`rpBonus` 和 `globalMultiplier` 是主要的加成来源。

### 1.3. “买10个”奖励 (`buy10Bonus`)

- **公式:** `(Challenge1 ? 2.2 : 2) ^ BonusLevel`
- **`BonusLevel` 规则:**
  - 0-100 个: 每 10 个升 1 级
  - 101-1000 个: 每 20 个升 1 级
  - 1001-5000 个: 每 50 个升 1 级
  - 5001+ 个: 每 100 个升 1 级
- **分析:**
  - 这是一个非常核心的奖励机制，鼓励玩家集中购买同一种生成器以达到奖励阈值。
  - 奖励本身是指数增长 (`2^N`)，非常强大。
  - 完成挑战1后，基数从 `2` 提升到 `2.2`，这是一个有意义的永久奖励。
  - **潜在问题:** 奖励的层级划分可能会让玩家感到困惑，UI 需要清晰地展示下一个奖励等级的进度。

---

## 2. 重置系统 (Prestige)

这是游戏跨越数量级的核心机制。

### 2.1. 重构点 (RP) 收益

- **公式:** `RP = floor((log10(CP) / 20) ^ 1.5) * (Challenge2 ? 1.5 : 1)`
- **分析:**
  - 收益起点是 `1e20` CP，这是一个相对后期的目标，符合“慢节奏”的设计。
  - 收益基于 CP 的**数量级**，并施加 `1.5` 次方，这意味着越高数量级的 CP，获取 RP 的效率越高，鼓励玩家在重构前尽可能推高 CP。
  - 完成挑战2后有 `1.5` 倍永久加成，收益明确。

### 2.2. 代码优雅度 (RP) 加成

- **公式:** `Multiplier = 1 + (RP * 0.1) * (1 + Version * 0.2)`
- **分析:**
  - 这是**线性**加成。每点 RP 提供 `0.1` 的基础加成。
  - **联动设计:** `Version` (第二层重置资源) 会对 RP 的加成效果再进行乘法放大。这是一个很好的联动，让第二层重置变得有价值。
  - **潜在问题:** 纯粹的线性加成在游戏大后期可能会变得乏力，因为 CP 的增长是指数级的。也许未来需要一个更高阶的加成方式。

### 2.3. 编译 (Version) 成本

- **公式:** `Cost = 10 * ((Version + 1) ^ 2)`
- **分析:**
  - 成本是基于 `Version` 数量的二次方增长。这是一个相对温和的增长曲线，在游戏前期获取几个 `Version` 应该是可行的。

---

## 3. 惩罚与挑战

### 3.1. 架构开销 (软上限)

- **公式:** `Penalty = 1 / (1 + 0.1 * log10(AI_Cores - 24))` (当 AI 核心 > 24 时)
- **分析:**
  - 这是一个软上限，当玩家拥有超过 24 个 AI 核心后，CP 的总产量会受到一个基于对数的惩罚。
  - 这个机制的设计目的是**强制玩家进行重构**，而不是无脑堆积最高级生成器。这是一个健康的设计，保证了重置循环的必要性。

### 3.2. 挑战 (Challenges)

- **挑战1:**
  - **限制:** G1-G4 产量为 0。
  - **奖励:** `buy10Bonus` 的基数变为 `2.2`。
  - **分析:** 强迫玩家依赖高阶生成器，考验的是重置前的 RP 积累。奖励直接作用于核心生产公式，非常强大。
- **挑战2:**
  - **限制:** (代码中未明确，待补充)
  - **奖励:** RP 收益 `* 1.5`。
  - **分析:** 奖励作用于 RP 收益公式，同样是强大的永久加成。

---

## 总结与建议

1.  **节奏把控:** 当前的数值系统在前期和中期应该能提供不错的目标感和挑战。但 G6-G8 的高额成本，以及 RP 加成的纯线性增长，可能导致游戏后期出现两个“长草期”。
2.  **联动性:** RP 和 Version 之间的联动设计得很好，让两个重置层级都有其独特的价值。
3.  **下一步:** 建议进行一次完整的“从零到第一次重构”的实际游戏流程测试，以验证理论分析，并记录下每个关键节点（如购买第一个G8、达到1e20 CP）所花费的时间。
