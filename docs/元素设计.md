### **产品设计文档：核心数值与解锁节奏 (第一纪元)**

#### **一、 核心设计哲学**

1. **感受“第一次”的艰难：**  玩家的第一次手动点击、第一次购买生成器、第一次重构，都应该是缓慢且有意义的。这能建立起对数值增长的基本认知和珍惜感。
2. **“对数”而非“线性”的时间感：**  第一个小时解锁的内容，可能比接下来一整天解锁的还要多。而玩了一周后，可能需要花另一周才能解锁一个新机制。游戏时间的感知尺度是不断拉长的。
3. **“撞墙”是游戏的一部分：**  玩家会频繁遇到增长瓶颈（“撞墙”）。游戏的设计就是要引导玩家利用新解锁的系统（如重构、挑战）来打破这堵墙，从而获得巨大的满足感。
4. **万物皆有公式：**  所有数值的背后都应有清晰、可预测的数学公式。这符合游戏的主题，也让硬核玩家有策略优化的空间。

---

#### **二、 元素初始值与增长公式**

**重要提示：**  以下数值均为**基准设计值**。在实际开发中，这些值需要通过大量测试来进行微调，以达到最佳的游戏节奏。核心在于**增长率的数量级**。

- **通用规则：**
  - **“购买 10 个”奖励：**  每购买 10 个同阶生成器，该生成器的**最终产量倍率 x2**。这是一个简单但强大的核心增长点。
  - **成本增长公式：** Cost(n) = BaseCost \* (CostMultiplier ^ (n-1))，其中  n  是你将要购买的第  n  个。

|       |                         |                     |                           |                              |
| ----- | ----------------------- | ------------------- | ------------------------- | ---------------------------- |
| 阶层  | 名称 (Name)             | 基础成本 (BaseCost) | 成本乘数 (CostMultiplier) | 基础产量 (Base Production/s) |
| **1** | **变量 (Variable)**     | 10                  | 1.15                      | 1 CP/s                       |
| **2** | **函数 (Function)**     | 100                 | 1.20                      | 1 Variable/s                 |
| **3** | **类 (Class)**          | 1e4                 | 1.25                      | 1 Function/s                 |
| **4** | **模块 (Module)**       | 1e6                 | 1.30                      | 1 Class/s                    |
| **5** | **库 (Library)**        | 1e9                 | 1.35                      | 1 Module/s                   |
| **6** | **框架 (Framework)**    | 1e13                | 1.40                      | 1 Library/s                  |
| **7** | **编译器 (Compiler)**   | 1e18                | 1.45                      | 1 Framework/s                |
| **8** | **AI 核心 (A.I. Core)** | 1e24                | 1.50                      | 1 Compiler/s                 |

- **设计思路：**
  - **基础成本**每阶大约增长 100 到 1000 倍，形成明显的阶梯感。
  - **成本乘数**逐渐变大，意味着高阶生成器会更快地变得昂贵，迫使玩家寻求全局性的提升（即重构）。

---

#### **三、 系统解锁的循序渐进 (Progressive Disclosure)**

这是保证游戏节奏和学习曲线的关键。UI 界面会根据以下解锁条件，逐步展示新的功能。

- **初始状态：**
  - 界面上只有**一个手动点击按钮** [ 手动编写代码 ]  和  **CP 总量显示**。
  - 没有生成器列表，没有导航栏。
- **解锁：第一个“变量”**
  - **条件：**  手动点击 CP 达到  10。
  - **展现：** [ 手动编写代码 ]  按钮**消失**。**生成器列表出现**，但只显示第一阶“变量”的购买选项。
- **解锁：高阶生成器**

  - **条件：**  当你首次购买  N  阶生成器后，N+1  阶生成器的购买选项才会出现。
  - **展现：**  列表会逐行向下展开，玩家能清晰地看到自己的“科技树”在成长。

- **玩家体验：**  玩家会发现，购买第 8 阶“AI 核心”变得异常困难，增长几乎停滞。
- **解锁：“重构”功能**
  - **条件：**  首次拥有  **1 个**  第 8 阶“AI 核心”。
  - **展现：**
    - 屏幕顶部出现一条提示信息：“[系统提示]：你的代码结构过于臃肿，增长已达瓶颈。或许……你需要一次彻底的重构。”
    - **底部导航栏出现**，并带有一个高亮的  🚀 重构   标签页。
- **“重构”页面的数值设计：**

  - **重构点(RP)获取条件：**  必须拥有至少  **10 个**  第 8 阶“AI 核心”才能执行重构。
  - **重构点(RP)获取公式：** RP = floor( (CP.log10() / 308) ^ 1.5 ) （这里的  ^1.5  是为了让 RP 的增长稍微快于 CP 的增长，给予玩家正反馈）。
  - **重构点(RP)效果公式：**  每个  RP  为所有生成器的产量提供  +10%  的**加法**增益。总倍率 = 1 + (RP \* 0.1)。
    - **设计思路：**  初始使用加法增益，效果不显著，鼓励玩家进行多次重构来累积优势。

- **玩家体验：**  玩家已经习惯了“攒 CP -> 重构”的循环，但感觉依然很肝。
- **解锁：“编译发布”功能**
  - **条件：**  总重构次数 (timesRefactored) 达到  **5 次**。
  - **展现：**  在“重构”页面旁边，出现一个新的二级标签页  📦 编译发布。
- **“编译发布”页面的数值设计：**
  - **版本号(Version)效果：**  每个“版本号”使“重构点”的**效果**提升  20%。总倍率 = 1 + (RP _ 0.1 _ (1 + Version \* 0.2))。
    - **设计思路：** “发布”提供的是**乘法**增益，它的效果远强于单纯累积 RP。这引导玩家进行更高层次的策略思考：是进行多次快速重构，还是进行一次艰难但收益巨大的发布？
- **解锁：“自动化”功能**

  - **条件：**  完成  **第一次** “编译发布”。
  - **展现：**  底部导航栏出现一个新的  🤖 自动化   标签页。内部提供一系列开关，用于自动购买生成器。

- **玩家体验：**  玩家已经掌握了双层声望系统，但需要新的中期目标。
- **解锁：“挑战”功能**
  - **条件：**  完成  **第二次** “编译发布”。
  - **展现：**  在“升级”标签页（此时可以将“重构”和“发布”合并到此页）中，出现  🏆 挑战   的二级标签页。
- **“挑战”的设计示例：**
  - **挑战 1：原始计算**
    - **规则：** 1-4 阶生成器产量为 0。
    - **目标：**  在此规则下，达成一次“重构”。
    - **奖励：** **所有**生成器的“购买 10 个”奖励效果从  x2  永久提升至  x2.2。
  - **挑战 2：内存限制**
    - **规则：**  生成器的产量会随着时间推移而逐渐降低，需要通过“重构”来重置衰减。
    - **目标：**  在此规则下，CP 达到  1e500。
    - **奖励：** **重构点(RP)**  的获取量永久  x1.5。
- **设计思路：**  挑战提供的奖励应该是**独特且改变游戏规则**的，而不是简单的数值增加。它应该能让玩家在完成挑战后，用一种全新的、更高效的方式去玩之前的游戏内容。

通过以上循序渐进的解锁节奏和精心设计的数值模型，我们可以引导玩家平滑地从一个新手成长为能够熟练运用多重系统的策略大师，确保了游戏长期的趣味性和可玩性。
